{"ast":null,"code":"var _jsxFileName = \"/Users/tanyajain/study/s3upload/client/src/upoad.js\";\nimport React, { Component } from 'react';\nimport { post_api } from './api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Upload = () => {\n  const [selectedFile, setSelectedFile] = [null];\n  const [loading, setLoading] = [false];\n  const [errorMessage, setErrorMessage] = ['']; // On file upload (click the upload button)\n\n  onFileUpload = () => {\n    setLoading(true);\n    let formData = new FormData();\n\n    if (selectedFile && selectedFile.name) {\n      formData.append('file', this.state.selectedFile);\n      formData.append('name', this.state.selectedFile.name);\n      axios({\n        method: 'post',\n        url: 'http://localhost:4000/upload',\n        data: formData\n      }).then(res => {\n        console.log(res);\n        this.setState({\n          loading: false,\n          status: res.data.Message\n        });\n      });\n      console.log(this.state.selectedFile);\n    } else {\n      selectedFile ? setErrorMessage('Something went wrong,Try Again!!') : setErrorMessage('Select a  file first ');\n    }\n  }; // On file select (from the pop up)\n\n\n  onFileChange = event => {\n    // Update the state\n    setSelectedFile(event.target.files[0]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"upload\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      for: \"myfile\",\n      children: \"Select a file:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"App-link\",\n      type: \"file\",\n      id: \"myfile\",\n      name: \"myfile\",\n      onChange: this.onFileChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: this.onFileUpload,\n      children: \"Upload!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"err\",\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 3\n  }, this);\n};\n_c = Upload;\n\nvar _c;\n\n$RefreshReg$(_c, \"Upload\");","map":{"version":3,"sources":["/Users/tanyajain/study/s3upload/client/src/upoad.js"],"names":["React","Component","post_api","Upload","selectedFile","setSelectedFile","loading","setLoading","errorMessage","setErrorMessage","onFileUpload","formData","FormData","name","append","state","axios","method","url","data","then","res","console","log","setState","status","Message","onFileChange","event","target","files"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,QAAR,QAAuB,OAAvB;;AACA,OAAO,MAAMC,MAAM,GAAG,MAAM;AACxB,QAAM,CAACC,YAAD,EAAcC,eAAd,IAAgC,CAAC,IAAD,CAAtC;AACA,QAAM,CAACC,OAAD,EAASC,UAAT,IAAsB,CAAC,KAAD,CAA5B;AACA,QAAM,CAACC,YAAD,EAAcC,eAAd,IAAgC,CAAC,EAAD,CAAtC,CAHwB,CAO3B;;AACAC,EAAAA,YAAY,GAAG,MAAM;AACpBH,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA,QAAII,QAAQ,GAAG,IAAIC,QAAJ,EAAf;;AACA,QAAIR,YAAY,IAAIA,YAAY,CAACS,IAAjC,EAAuC;AACtCF,MAAAA,QAAQ,CAACG,MAAT,CAAgB,MAAhB,EAAwB,KAAKC,KAAL,CAAWX,YAAnC;AACAO,MAAAA,QAAQ,CAACG,MAAT,CAAgB,MAAhB,EAAwB,KAAKC,KAAL,CAAWX,YAAX,CAAwBS,IAAhD;AACAG,MAAAA,KAAK,CAAC;AACLC,QAAAA,MAAM,EAAE,MADH;AAELC,QAAAA,GAAG,EAAE,8BAFA;AAGLC,QAAAA,IAAI,EAAER;AAHD,OAAD,CAAL,CAIGS,IAJH,CAISC,GAAD,IAAS;AAChBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,aAAKG,QAAL,CAAc;AAAElB,UAAAA,OAAO,EAAE,KAAX;AAAkBmB,UAAAA,MAAM,EAAEJ,GAAG,CAACF,IAAJ,CAASO;AAAnC,SAAd;AACA,OAPD;AAQAJ,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKR,KAAL,CAAWX,YAAvB;AACA,KAZD,MAYK;AACKA,MAAAA,YAAY,GACZK,eAAe,CAAC,kCAAD,CADH,GAEZA,eAAe,CAAC,uBAAD,CAFf;AAGH;AACP,GApBD,CAR2B,CA8BxB;;;AACHkB,EAAAA,YAAY,GAAIC,KAAD,IAAW;AACzB;AACAvB,IAAAA,eAAe,CAACuB,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAD,CAAf;AACA,GAHD;;AAKA,sBACC;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA,4BACC;AAAO,MAAA,GAAG,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,eAEC;AAAO,MAAA,SAAS,EAAC,UAAjB;AAA4B,MAAA,IAAI,EAAC,MAAjC;AAAwC,MAAA,EAAE,EAAC,QAA3C;AAAoD,MAAA,IAAI,EAAC,QAAzD;AAAkE,MAAA,QAAQ,EAAE,KAAKH;AAAjF;AAAA;AAAA;AAAA;AAAA,YAFD,eAGC;AAAQ,MAAA,OAAO,EAAE,KAAKjB,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHD,eAIU;AAAG,MAAA,SAAS,EAAC,KAAb;AAAA,gBAAoBF;AAApB;AAAA;AAAA;AAAA;AAAA,YAJV;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAQA,CA5CM;KAAML,M","sourcesContent":["import React, { Component } from 'react';\nimport {post_api} from './api'\nexport const Upload = () => {\n    const [selectedFile,setSelectedFile] =[null]\n    const [loading,setLoading] =[false]\n    const [errorMessage,setErrorMessage] =['']\n\n\n\n\t// On file upload (click the upload button)\n\tonFileUpload = () => {\n\t\tsetLoading(true)\n\t\tlet formData = new FormData();\n\t\tif (selectedFile && selectedFile.name) {\n\t\t\tformData.append('file', this.state.selectedFile);\n\t\t\tformData.append('name', this.state.selectedFile.name);\n\t\t\taxios({\n\t\t\t\tmethod: 'post',\n\t\t\t\turl: 'http://localhost:4000/upload',\n\t\t\t\tdata: formData,\n\t\t\t}).then((res) => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tthis.setState({ loading: false, status: res.data.Message });\n\t\t\t});\n\t\t\tconsole.log(this.state.selectedFile);\n\t\t}else{\n            selectedFile ?\n            setErrorMessage('Something went wrong,Try Again!!'):\n            setErrorMessage('Select a  file first ')\n        }\n\t};\n\n    // On file select (from the pop up)\n\tonFileChange = (event) => {\n\t\t// Update the state\n\t\tsetSelectedFile(event.target.files[0]);\n\t};\n\n\treturn (\n\t\t<div className=\"upload\">\n\t\t\t<label for=\"myfile\">Select a file:</label>\n\t\t\t<input className=\"App-link\" type=\"file\" id=\"myfile\" name=\"myfile\" onChange={this.onFileChange} />\n\t\t\t<button onClick={this.onFileUpload}>Upload!</button>\n            <p className=\"err\">{errorMessage}</p>\n\t\t</div>\n\t);\n};\n"]},"metadata":{},"sourceType":"module"}